<!DOCTYPE html>

<html lang="eng-US" xmlns:nitro="https://www.bunchball.com/nitro">

<head>

	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<meta http-equiv="X-UA-Compatible" content="IE=edge" />

	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

	<title>  Cisco&#8217;s onePK Part 2: Reaching out to a Network Element</title>

	<meta property="og:image" content=""/><meta property="og:description" content=""/><meta name="description" content=""/>	<meta property="og:site_name" content="blogs@Cisco - Cisco Blogs"/>

	<meta name="google-site-verification" content="9MlQU9MMQ1jHLMUkONKe6QzZ-ZIGRv0BCD1_rY1Zdmc" />

		<meta name="bitly-verification" content="25789e2a57d8"/>

	<meta name="accessLevel" content="GUEST, CUSTOMER, PARTNER"/>

	<meta name="language" content="en"/>

	<meta name="country" content="US"/>

	<meta name="contentType" content="ciscoBlogs"/>

			<meta name="docType" content="blogPost" />

		<link rel="stylesheet" href="https://blogs.cisco.com/wp-content/themes/cisco_responsive/style.css" type="text/css" media="screen" />

	<link rel="alternate" type="application/rss+xml" title="Cisco Blog RSS Feed" href="https://blogs.cisco.com/feed" />

	<link rel="shortcut icon" href="https://blogs.cisco.com/wp-content/themes/cisco_responsive/favicon.ico" />

	<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">



	<link rel='dns-prefetch' href='//www.cisco.com' />
<link rel='dns-prefetch' href='//platform.twitter.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Cisco Blog &raquo; Cisco&#8217;s onePK Part 2: Reaching out to a Network Element Comments Feed" href="https://blogs.cisco.com/security/ciscos-onepk-part-2-reaching-out-to-a-network-element/feed" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.3\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.3\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/blogs.cisco.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.9.2"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56794,8205,9794,65039],[55358,56794,8203,9794,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='css-css'  href='https://blogs.cisco.com/wp-content/plugins/bunchball/bunchball.css?ver=4.9.2' type='text/css' media='all' />
<link rel='stylesheet' id='normalize-css'  href='https://blogs.cisco.com/wp-content/themes/cisco_responsive/normalize.css?ver=4.9.2' type='text/css' media='all' />
<link rel='stylesheet' id='slidebarsstyle-css'  href='https://blogs.cisco.com/wp-content/themes/cisco_responsive/slidebars.css?ver=4.9.2' type='text/css' media='all' />
<link rel='stylesheet' id='single-css'  href='https://blogs.cisco.com/wp-content/themes/cisco_responsive/styles/single.css?ver=4.9.2' type='text/css' media='all' />
<link rel='stylesheet' id='codecolorer-css'  href='https://blogs.cisco.com/wp-content/plugins/codecolorer/codecolorer.css?ver=0.9.14' type='text/css' media='screen' />
<script type='text/javascript' src='https://blogs.cisco.com/wp-includes/js/jquery/jquery.js?ver=3.3.1'></script>
<script type='text/javascript' src='https://blogs.cisco.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=3.0.0'></script>
<script type='text/javascript' src='https://blogs.cisco.com/wp-content/plugins/bunchball/bunchball.js?ver=4.9.2'></script>
<script type='text/javascript' src='https://blogs.cisco.com/wp-content/plugins/bunchball/jquery.cookie.js?ver=4.9.2'></script>
<script type='text/javascript' src='https://blogs.cisco.com/wp-content/plugins/bunchball/jquery.slimscroll.min.js?ver=4.9.2'></script>
<script type='text/javascript' src='https://blogs.cisco.com/wp-content/plugins/bunchball/moment.js?ver=4.9.2'></script>
<script type='text/javascript' src='https://blogs.cisco.com/wp-content/plugins/bunchball/livestamp.min.js?ver=4.9.2'></script>
<script type='text/javascript' src='https://blogs.cisco.com/wp-content/themes/cisco_responsive/js/modernizr.js?ver=4.9.2'></script>
<script type='text/javascript' src='https://blogs.cisco.com/wp-content/themes/cisco_responsive/js/slidebars.js?ver=4.9.2'></script>
<script type='text/javascript' src='https://blogs.cisco.com/wp-content/themes/cisco_responsive/js/jquery.lazyload.js?ver=4.9.2'></script>
<script type='text/javascript' src='https://blogs.cisco.com/wp-content/themes/cisco_responsive/js/theme_script.js?ver=4.9.2'></script>
<script type='text/javascript' src='https://www.cisco.com/assets/swa/j/blogs.js?ver=4.9.2'></script>
<script type='text/javascript' src='https://www.cisco.com/c/dam/cdc/t/ctm.js?ver=4.9.2'></script>
<script type='text/javascript' src='https://blogs.cisco.com/wp-content/themes/cisco_responsive/js/jquery.tools.min.js?ver=4.9.2'></script>
<script type='text/javascript' src='https://blogs.cisco.com/wp-content/themes/cisco_responsive/js/jquery.tipTip.minified.js?ver=4.9.2'></script>
<script type='text/javascript' src='https://blogs.cisco.com/wp-content/themes/cisco_responsive/js/jquery.sharrre.min.js?ver=4.9.2'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var single_script_vars = {"ajax_url":"https:\/\/blogs.cisco.com\/wp-admin\/admin-ajax.php","post_id":"128794"};
/* ]]> */
</script>
<script type='text/javascript' src='https://blogs.cisco.com/wp-content/themes/cisco_responsive/js/single.js?ver=4.9.2'></script>
<script type='text/javascript' src='https://platform.twitter.com/widgets.js?ver=4.9.2'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://blogs.cisco.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://blogs.cisco.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Get More out of your Data with Cisco at Strata Hadoop World October 28 &#8211; 30, 2013' href='https://blogs.cisco.com/datacenter/get-more-out-of-your-data-with-cisco-at-strata-hadoop-world-october-28-30-2013' />
<link rel='next' title='Nexus 3100 at Interop' href='https://blogs.cisco.com/datacenter/nexus-3100-at-interop' />

<link rel="canonical" href="https://blogs.cisco.com/security/ciscos-onepk-part-2-reaching-out-to-a-network-element" />
<link rel='shortlink' href='https://blogs.cisco.com/?p=128794' />
<meta property="og:image" content="http://i.ytimg.com/vi/8vxEimC3HME/default.jpg" />
<!-- START - Twitter Cards, G+, Facebook Tags 2.2.3.1 -->
 <!-- Facebook Open Graph -->
  <meta property="og:locale" content="en_US"/>
  <meta property="og:title" content="Cisco&#039;s onePK Part 2: Reaching out to a Network Element"/>
  <meta property="og:url" content="https://blogs.cisco.com/security/ciscos-onepk-part-2-reaching-out-to-a-network-element"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2013-10-15T06:00:55+00:00"/>
  <meta property="article:modified_time" content="2013-10-31T09:21:50+00:00" />
  <meta property="og:updated_time" content="2013-10-31T09:21:50+00:00" />
  <meta property="article:section" content="Security"/>
  <meta property="article:publisher" content="https://www.facebook.com/Cisco"/>
 <!-- Google+ / Schema.org -->
 <!-- Twitter Cards -->
  <meta name="twitter:title" content="Cisco&#039;s onePK Part 2: Reaching out to a Network Element"/>
  <meta name="twitter:url" content="https://blogs.cisco.com/security/ciscos-onepk-part-2-reaching-out-to-a-network-element"/>
  <meta name="twitter:description" content="Exordium

In the previous installment of the onePK series, you received a crash course on Cisco&#039;s onePK. In this article, you&#039;ll take the next step with a fun little exposé on onePK&#039;s C API. You will learn how to write a simple program to reach out and connect to a network element. This is staple on"/>
  <meta name="twitter:card" content="summary_large_image"/>
  <meta name="twitter:site" content="@Cisco"/>
 <!-- SEO -->
 <!-- Misc. tags -->
 <!-- is_singular -->
<!-- END - Twitter Cards, G+, Facebook Tags 2.2.3.1 -->
	




</head>

<body>

	<div id = "rewards_fix"></div>

	<script src="//assets.bunchball.net/scripts/nitro/current/nitro.js" type="text/javascript"></script>	<script>
		var apiKey = "6912c6c82ccc4863a0311dc8b586b8fb";
		var userId = "anon";
		var time = "1521513482";
		var sig = "2e0fb55ee18332382326316b22edc2bb";
		var connectionParams={};
    		connectionParams.apiKey = apiKey ;
    		connectionParams.timeStamp = time;
    		connectionParams.signature = sig;
    		connectionParams.server =  "//CiscoSupportCommunities2.nitro.bunchball.net/nitro/json/";
    		connectionParams.userId = userId;
    	var nitro = new Nitro(connectionParams);
    	nitro.showPendingNotifications();
	</script> <header class = "sb-slide">
        <div id = "hero">
            <div class = "top_third">
                <div id="hamburger" class = "sb-open-left">
                    <i class="fa fa-bars"></i>
                </div>
            </div>
            <div class = "top_third">
                <div id = "cisco_logo">
                    <div class="dropdown">
                        <div class = "logo_hover"></div>
                        <div class="dropdown-content">
                            <ul>
                                <li><a href = "https://cisco.com">All of Cisco</a></li>
                                <li><a href = "https://blogs.cisco.com">Blogs Home</a></li>
                            </ul>
                         </div>
                    </div>
                </div>
            </div>
            <div class = "hero_header_text">Cisco Blogs</div>
                <div id = "mobile_search_top">
                    <i class="fa fa-search"></i>
                </div>

                <a class = "top_login" href = "https://socialrewards-prod.cloudapps.cisco.com/">Log In to Cisco.com</a>
                
                <div id = "normal_search">
                    <div id = "normal_search_box"><form method="get" id="searchform" action="https://blogs.cisco.com/">

	<input type="text" value=""

    	name="s" id="s">

    </input>

<input type="submit" value=" " class="searchSubmit"/>

</form>

</div>
                        <i class="fa fa-search"></i>
                    <div class = "clear"></div>
                </div>
            <div class = "clear"></div>
            <div id = "normal_menu">
                <nav>
  <a class = "hamburger_login" href = "https://blogs.cisco.com:9031/sp/startSSO.ping?PartnerIdpId=cloudsso.cisco.com">Log In to Cisco.com</a>      <ul>
                  <li><a href='https://blogs.cisco.com'><span>All Blogs</span></a></li>
                  <li><a href='#'><span>Technologies</span></a>
                  <ul>
            <div class = "bordertop"></div>
            <li><a href="https://blogs.cisco.com/analytics-automation">Analytics &amp; Automation</a></li>
            <li><a href="https://blogs.cisco.com/cloud">Cloud</a></li>
            <li><a href='https://blogs.cisco.com/collaboration'>Collaboration</a></li>
            <li><a href='https://blogs.cisco.com/datacenter'>Data Center</a></li>
            <li><a href='https://blogs.cisco.com/digital'>Digital Transformation</a></li>
            <li><a href='https://blogs.cisco.com/enterprise'>Enterprise Networks</a></li>
            <li><a href='https://blogs.cisco.com/innovation'>Innovation</a></li>
            <li><a href='https://blogs.cisco.com/wireless'>Mobility</a></li>
            <li><a href='https://blogs.cisco.com/security'>Security</a></li>
            <li class = "sub"><a href="https://blogs.cisco.com/talos" class="nav_menu" title="">Threat Research</a></li>
            <li><a href='https://blogs.cisco.com/smallbusiness'>Small Business</a></li>
            <li><a href='https://blogs.cisco.com/services'>Services</a></li>
            <li><a href='https://blogs.cisco.com/sp'>SP360:Service Provider</a></li>
          </ul>
        </li>
                  <li><a href='#'><span>Industries</span></a>
                      <ul>
            <div class = "bordertop"></div>
            <li><a href='https://blogs.cisco.com/education'>Education</a></li>
            <li><a href='https://blogs.cisco.com/energy'>Energy</a></li>
            <li><a href='https://blogs.cisco.com/financialservices'>Financial Services</a></li>
            <li><a href='https://blogs.cisco.com/government'>Government</a></li>
            <li><a href='https://blogs.cisco.com/healthcare'>Healthcare</a></li>
            <li><a href='https://blogs.cisco.com/manufacturing'>Manufacturing</a></li>
            <li><a href='https://blogs.cisco.com/retail'>Retail &amp; Hospitality</a></li>
          </ul>
        </li>
                  <li><a href='#'><span>Partners</span></a> 
          <ul>
            <div class = "bordertop"></div>
            <li><a href='https://blogs.cisco.com/partner'>Partner</a></li>
          </ul>
        </li>
        <li><a href='#'><span>For the Tech Expert</span></a>           <ul>
            <div class = "bordertop"></div>
            <li><a href='https://blogs.cisco.com/getyourbuildon'>Architects &amp; Distinguished Engineers</a></li>
            <li><a href='https://blogs.cisco.com/developer'>Developer</a></li>
            <li><a href='https://blogs.cisco.com/performance'>High Performance Computing</a></li>
            <li><a href='https://blogs.cisco.com/ciscoit'>Inside Cisco IT</a></li>
            <li><a href='https://blogs.cisco.com/cin'>TechWiseTV</a></li>
          </ul>
        </li>
         <li><a href='#'><span>Get to Know Cisco</span></a>           <ul>
            <div class = "bordertop"></div>
            <li><a href='https://blogs.cisco.com/csr'>Corporate Social Responsibility</a></li>
            <li><a href='https://blogs.cisco.com/cle'>Connected Life Exchange</a></li>
            <li><a href='https://blogs.cisco.com/customerstories'>Customer Stories</a></li>
            <li><a href='https://blogs.cisco.com/socialmedia'>Digital and Social Media</a></li>
            <li><a href='https://blogs.cisco.com/gov'>High Tech Policy</a></li>
            <li><a href='https://blogs.cisco.com/diversity'>Inclusion and Diversity</a></li>
            <li><a href='https://blogs.cisco.com/lifeatcisco'>Life at Cisco</a></li>
            <li><a href='https://blogs.cisco.com/perspectives'>Perspectives</a></li>
            <li><a href='https://blogs.cisco.com/news'>Executive Platform: News &amp; Insights</a></li>
          </ul>
        </li>
        <li class = "countries"><a href='#'><span>Countries and Regions</span></a>
          <ul>
            <div class = "col_1">
  <li><a href="https://apjc.thecisconetwork.com/">Asia Pacific</a>
  <li><a href="https://gblogs.cisco.com/at/">Austria</a>
  <li><span class = "sub_main">Belgium</span></li>
    <li class = "sub"><a href="https://gblogs.cisco.com/be">Dutch</a></li>
    <li class = "sub"><a href="https://gblogs.cisco.com/be-fr">French</a></li>
  <li><a href="https://gblogs.cisco.com/br/">Brazil</a>
  <li><span class = "sub_main">Canada</span></li>
    <li class = "sub"><a href="https://canadablog.cisco.com/">English</a></li>
    <li class = "sub"><a href="https://ciscocanadafr.wordpress.com/">French</a></li>

  </div>
    <div class = "col_2">
    <li><a href="https://gblogs.cisco.com/fin/">Finland</a>
    <li><a href="https://gblogs.cisco.com/fr/">France</a>

  <li><a href="https://gblogs.cisco.com/de">Germany</a></li>
  <li><a href="https://gblogs.cisco.com/gr/">Greece</a>
  <li><a href="https://gblogs.cisco.com/in">India</a></li>
  <li><a href="https://gblogs.cisco.com/it/">Italy</a></li>
  <li><a href="https://gblogs.cisco.com/jp/">Japan</a></li>
  <li><a href="https://ciscokrblog.com/">Korea</a></li>

  </div>
  <div class = "col_3">
  <li><span class = "sub_main">Latin America</span></li>
      <li class = "sub"><a href="https://gblogs.cisco.com/la/">Latin America (Esp)</a></li>
      <li class = "sub"><a href="https://gblogs.cisco.com/cansac/">Cansac</a></li>
  <li><a href="https://gblogs.cisco.com/nl/">Netherlands</a></li>
  <li><a href="https://gblogs.cisco.com/no">Norway</a></li>
  <li><a href="https://gblogs.cisco.com/pl">Poland</a></li>
  <li><a href="https://gblogs.cisco.com/pt">Portugal</a></li>
  <li><a href="https://gblogs.cisco.com/ro">Romania</a></li>
  </div>

  <div class = "col_4">
  <li><a href="https://gblogs.cisco.com/ru">Russia</a></li>
  <li><a href="https://gblogs.cisco.com/es">Spain</a></li>
  <li><span class = "sub_main">Switzerland</span></li>
      <li class = "sub"><a href="https://gblogs.cisco.com/ch-tech/">English</a></li>
      <li class = "sub"><a href="https://gblogs.cisco.com/ch-fr/">French</a></li>
      <li class = "sub"><a href="https://gblogs.cisco.com/ch-de/">German</a></li>
  <li><a href="https://gblogs.cisco.com/tr/">Turkey</a></li>
  <li><a href="https://gblogs.cisco.com/uki/">UK &amp; Ireland</a></li>
</div>
<div class = "clear"></div>
</ul>
</li>
      </ul>
</nav>
            </div>
            <div id = "mobile_search">
                <div id = "mobile_search_box">
                    <form method="get" id="searchform" action="https://blogs.cisco.com/">

	<input type="text" value=""

    	name="s" id="s">

    </input>

<input type="submit" value=" " class="searchSubmit"/>

</form>

                </div>
        </div>
        </div>  
    </header>
     
        
  <div id="share_bar1">

    <span class = "share_title">Share</span>
    <div class="twitter sharrre">
      <div class = "box">
        <div class = "count twitcount"></div>
        <a class = "twitclick" href="https://twitter.com/intent/tweet?url=http://bit.ly/1FaGcj5&text=Cisco&#8217;s onePK Part 2: Reaching out to a Network Element&via=ciscosecurity" data-config-metrics-group='social_shares' data-config-metrics-title='twitter_shares' data-config-metrics-item='twitter_share'>tweet</a>
      </div>
    </div>

    <div class="facebook sharrre">
      <div class = "box">
        <div class = "count fbcount"></div>
        <a class = "fbclick share" href = "http://www.facebook.com/sharer/sharer.php?u=https://blogs.cisco.com/security/ciscos-onepk-part-2-reaching-out-to-a-network-element&title=Cisco&#8217;s onePK Part 2: Reaching out to a Network Element" data-config-metrics-group='social_shares' data-config-metrics-title='facebook_shares' data-config-metrics-item='facebook_share' onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;"></a>
      </div>
    </div>


    <div class="linkedin sharrre">
      <div class = "box">
        <div class = "count licount"></div>
        <a class = "liclick share" href = "https://www.linkedin.com/cws/share?url=https://blogs.cisco.com/security/ciscos-onepk-part-2-reaching-out-to-a-network-element" data-title=" " data-config-metrics-group='social_shares' data-config-metrics-title='linkedin_shares' data-config-metrics-item='linkedin_share' onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;"></a>


      </div>
    </div>

    <div class="googleplus sharrre">
      <div class = "box">
        <div class = "count gpcount"></div>
        <a class = "gpclick share" href="https://plus.google.com/share?url=https://blogs.cisco.com/security/ciscos-onepk-part-2-reaching-out-to-a-network-element" data-title=" " data-config-metrics-group='social_shares' data-config-metrics-title='google_shares' data-config-metrics-item='google_share' onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;"></a>
      </div>
    </div>
        <div class = "share_mail"><a class="email emclick" href="mailto:?subject=Cisco Blog: Cisco&#8217;s onePK Part 2: Reaching out to a Network Element&body=I saw this post on Cisco Security blog and thought you might like to read it.%0A%0ACisco&#8217;s onePK Part 2: Reaching out to a Network Element%0A%0Ahttps://blogs.cisco.com/security/ciscos-onepk-part-2-reaching-out-to-a-network-element%0A%0A****Disclaimer****%0A%0ACisco is not responsible for the content of this email, and its contents do not necessarily reflect Cisco’s views or opinions. Cisco has not verified the email address or name of the sender." data-config-metrics-group='social_shares' data-config-metrics-title='email_shares' data-config-metrics-item='email_share'></a></div>
    <div class = "clear"></div>
  </div>
  <div id="sb-site">
<div id = "main_content">

	<div id = "blog_content">
	<div id = "main_left">

		<article id = "article_post">
			<p class = "breadcrumb">
			<a href=' https://blogs.cisco.com'>Cisco Blog</a> > <a href=' https://blogs.cisco.com/category/security/'>Security</a></p>
					<div id = "post_image"><img src = "https://alln-extcloud-storage.cisco.com/ciscoblogs/category50.png">  					</div>
  					<div id = "post_info">
  						<span class = "post_category">
  							Security  						</span>
						<h1 id="post-128794" class="kindle_title title">Cisco&#8217;s onePK Part 2: Reaching out to a Network Element</h1>
						<div class="author_image"><img class = "img-circle" src = "https://alln-extcloud-storage.cisco.com/ciscoblogs/userphoto/MikeSchiffman.thumbnail.4cb4c4a1b2f7b.jpg"></div><div class="author_rewards_box"></div><div class = "clear"></div><span class = "list_author"><a href="https://blogs.cisco.com/author/MikeSchiffman" title="Posts by Mike Schiffman" rel="author">Mike Schiffman</a> - October 15, 2013 - 3 Comments      					</span>
      					<br />
      					<br />
      										</div>
					<div class ="clear"></div>
					<div id ="content">
					<h2>Exordium</h2>
<p>In <a href="http://blogs.cisco.com/security/ciscos-onepk-part-1-introduction/">the previous installment of the <font color="red">onePK</font> series</a>, you received a crash course on <font color="red">Cisco</font>&#8217;s <font color="red">onePK</font>. In this article, you&#8217;ll take the next step with a fun little exposé on <font color="red">onePK</font>&#8217;s C <font color="red">API</font>. You will learn how to write a simple program to reach out and connect to a <font color="red">network element</font>. This is staple <font color="red">onePK</font> functionality and is the foundation upon which most <font color="red">onePK applications</font> are built.</p>
<h2>Preambling Details</h2>
<p>The following short program &#8220;ophw&#8221; (<font color="red">onePK</font> Hello World), is a fully functional <font color="red">onePK application</font> that will connect to a <font color="red">network element</font>, query its system description, and then disconnect. It doesn&#8217;t do anything beyond that, but it does highlight some lynchpin <font color="red">onePK</font> code: <font color="red">network element</font> connection and <font color="red">session</font> handle instantiation. This is the foundational stuff every <font color="red">onePK application</font> needs before useful work can get done.<span id="more-128794"></span></p>
<p>For this example, I will use the End-Node Hosting model of <font color="red">deployment</font> and build and run the <font color="red">application</font> from a Linux machine on the same <font color="red">network</font> as the onePK-enabled <font color="red">router</font>.</p>
<h3>Required Items</h3>
<p>Before you can reach out to a <font color="red">network element</font>, you&#8217;ll need three pieces of information:</p>
<ul>
<li><strong><font color="red">Network Element</font> <font color="red">IP</font> Address</strong>: This is the <font color="red">IP</font> address of the <font color="red">switch</font> or <font color="red">router</font> with running an <font color="red">IOS</font> image that supports <font color="red">onePK</font></li>
<li><strong><font color="red">Network Element</font> Username</strong>: A previously established username on the <font color="red">network element</font></li>
<li><strong><font color="red">Network Element</font> <font color="red">Password</font></strong>: The <font color="red">password</font> for the username on the <font color="red">network element</font></li>
</ul>
<h2>Give Me a Fish</h2>
<p>Let&#8217;s fire away and see what happens:</p>
<div style="width: 600px; background-color: #ededed; overflow-x: scroll;">
<pre><span style="font-weight: bold;"><font color="red">cisco</font>@ubuntu:~/onePK-sdk-0.7.0.503/c/sample-apps/HelloWorld$ ./bin/ophw -a 10.10.10.130 -u <font color="red">cisco</font> -p cisco</span></pre>
<pre>Connecting to 10.10.10.130...

Connected! Hello <font color="red">router</font>!

System Description: <font color="red">Cisco</font> <font color="red">IOS</font> Software, vios Software (vios-ADVENTERPRISEK9-M), Version 15.3(1.2.31)PI21, EARLY <font color="red">DEPLOYMENT</font> ENGINEERING WEEKLY BUILD, synced to  V153_2_T

Technical Support: http://www.cisco.com/techsupport

Copyright (c) 1986-2013 by <font color="red">Cisco</font> Systems, Inc.

Compiled Sun 02-Jun-13 23:27 by nmcgill

Disconnecting from 10.10.10.130...</pre>
</div>
<p>Sweet. Looks like our program connected to a onePK-enabled <font color="red">router</font> and got some system information, then disconnected. Let&#8217;s move on and see how this works&#8230;</p>
<h2>Teach Me to Fish</h2>
<p>What follows is a fully functional <font color="red">onePK</font> program. If you cut the code from the scroll boxes, paste it into a .c file, and drop it into a properly setup <font color="red">onePK</font> development environment, this program will go. Let&#8217;s break it down, section by section, and see what&#8217;s really go on here.</p>
<h3>Common C Program Artifacts</h3>
<p>First and foremost you can gloss over the boring preamble contact info, legalese boilerplate, include directives, and <font color="red">function</font> prototypes. A few things to notice here are the <font color="red">onePK</font> specific includes (you&#8217;ll need these in your programs) and the <em>TRY</em> <font color="red">macro</font>. A very common construct in <font color="red">onePK</font> programs is the call, check return code, if error; report and bail sequence of events. This <font color="red">macro</font> does just that and makes for tidy code.</p>
<div style="width: 600px; background-color: #ededed; overflow-x: scroll;">
<pre>/*

 * Copyright (c) 2013, <font color="red">Cisco</font> Systems, Inc.

 * Applied Security Intelligence

 * Mike Schiffman &lt;mschiffm@cisco.com&gt;

 *

 * THIS <font color="red">SAMPLE CODE</font> IS PROVIDED "AS IS" WITHOUT ANY EXPRESS OR IMPLIED WARRANTY

 * BY <font color="red">CISCO</font> SOLELY FOR THE PURPOSE of PROVIDING PROGRAMMING EXAMPLES.

 * <font color="red">CISCO</font> SHALL NOT BE HELD LIABLE FOR ANY USE OF THE <font color="red">SAMPLE CODE</font> IN ANY

 * <font color="red">APPLICATION</font>.

 *

 * Redistribution and use of the <font color="red">sample code</font>, with or without

 * modification, are permitted provided that the following conditions

 * are met:

 * Redistributions of source code must retain the above disclaimer.

 */</pre>
<pre>#include &lt;string.h&gt;

#include &lt;stdlib.h&gt;

#include &lt;stdio.h&gt;

#include &lt;getopt.h&gt;

#include &lt;ctype.h&gt;

#include &lt;unistd.h&gt;

#include &lt;errno.h&gt;



#include &lt;arpa/inet.h&gt;

#include &lt;sys/socket.h&gt;

#include &lt;ctype.h&gt;



#include "onep_core_services.h"

#include "onep_constants.h"</pre>
<pre>/** shorthand <font color="red">macro</font> for very common <font color="red">onePK</font> func call / check for error */</pre>
<pre>#define TRY(_rc, _expr, _eb, _fmt, _args...)                                \

    if (((_rc) = (_expr)) != ONEP_OK)                                       \

    {                                                                       \

            snprintf(_eb, BUFSIZ - 1, "%s:%d: error: %s: " _fmt,            \

            __FILE__, __LINE__, onep_strerror((_rc)), ##_args);             \

        return ((NULL));                                                    \

    }</pre>
<pre></pre>
<pre>#define APPNAME <span style="color: #dc143c;">"OPHW"</span></pre>
<pre>#define DQ_STR_SIZE <span style="color: #deb887;">16</span></pre>
<pre><span style="color: #ff8c00;">void</span> usage(<span style="color: #ff8c00;">char</span> *);

session_handle_t *

simple_connect(<span style="color: #ff8c00;">char</span> *, <span style="color: #ff8c00;">char</span> *, <span style="color: #ff8c00;">char</span> *, <span style="color: #ff8c00;">char</span> *, network_element_t **, network_application_t **, <span style="color: #ff8c00;">char</span> *);

<span style="color: #ff8c00;">void</span> simple_disconnect(network_element_t **, session_handle_t **, network_application_t **);</pre>
</div>
<h3>Main</h3>
<p>The main program body is delightfully straightforward. After initializing program variables with default values, the program descends into argument processing. Next it will ensure it has three user-supplied strings purporting to be legitimate <font color="red">onePK</font> username, <font color="red">password</font>, and target device. Now it&#8217;s time to get to work:</p>
<div style="width: 600px; background-color: #ededed; overflow-x: scroll;">
<pre><span style="color: #ff8c00;">int</span>

main(<span style="color: #ff8c00;">int</span> argc, char* <font color="red">argv</font>[])

{

    onep_status_t <font color="red">r</font>;

    <span style="color: #ff8c00;">char</span> opt, *sysdescr;

    network_element_t *ne;

    onep_username username;

    onep_<font color="red">password</font> password;

    session_handle_t *<font color="red">onepk</font>;

    element_property_t *property;

    network_application_t *n;

    <span style="color: #ff8c00;">char</span> ne_addr[DQ_STR_SIZE], <font color="red">errbuf</font>[BUFSIZ];



    ne        = NULL;

    <font color="red">onepk</font>     = NULL;

    sysdescr  = NULL;

    memset(ne_addr,  <span style="color: #deb887;">0</span>, DQ_STR_SIZE);

    memset(username, <span style="color: #deb887;">0</span>, ONEP_USERNAME_SIZE);

    memset(<font color="red">password</font>, <span style="color: #deb887;">0</span>, ONEP_PASSWORD_SIZE);

    <span style="color: #009900;">while</span> ((opt = getopt(argc, <font color="red">argv</font>, <span style="color: #dc143c;">"a:u:p:"</span>)) &gt;= <span style="color: #deb887;">0</span>)

    {

        <span style="color: #009900;"><font color="red">switch</font></span> (opt)

        {

            <span style="color: #009900;">case</span> <span style="color: #dc143c;">'a'</span>:

                strncpy(ne_addr, optarg, DQ_STR_SIZE - <span style="color: #deb887;">1</span>);

                <span style="color: #009900;">break</span>;

            <span style="color: #009900;">case</span> <span style="color: #dc143c;">'p'</span>:

                strncpy(<font color="red">password</font>, optarg, ONEP_USERNAME_SIZE - <span style="color: #deb887;">1</span>);

                <span style="color: #009900;">break</span>;

            <span style="color: #009900;">case</span> <span style="color: #dc143c;">'u'</span>:

                strncpy(username, optarg, ONEP_USERNAME_SIZE - <span style="color: #deb887;">1</span>);

                <span style="color: #009900;">break</span>;

            <span style="color: #009900;">default</span>:

                usage(<font color="red">argv</font>[<span style="color: #deb887;">0</span>]);

                <span style="color: #009900;">return</span> -<span style="color: #deb887;">1</span>;

        }

    }

    <span style="color: #0000ff;">/** ensure I have a <font color="red">network element</font> to connect to and a username/<font color="red">password</font> */</span>

    <span style="color: #009900;">if</span> (ne_addr[<span style="color: #deb887;">0</span>] == <span style="color: #deb887;">0</span> || password[<span style="color: #deb887;">0</span>] == <span style="color: #deb887;">0</span> || username[<span style="color: #deb887;">0</span>] == <span style="color: #deb887;">0</span>)

    {

        usage(<font color="red">argv</font>[<span style="color: #deb887;">0</span>]);

        <span style="color: #009900;">return</span> -<span style="color: #deb887;">1</span>;

    }</pre>
</div>
<h3>Reaching Out</h3>
<p>We&#8217;ll explore <em>simple_connect()</em> in detail shortly, but for now suffice to say as the name implies, it makes a connection to the user-supplied <font color="red">IP</font> address which we can assume is a <font color="red">network element</font> running <font color="red">onePK</font>. Important to note is that a successful call returns a <font color="red">session</font> handle (aptly named <em><font color="red">onepk</font></em>) and instantiates a <font color="red">network element</font> variable, <em>ne</em>. Subsequent <font color="red">onePK</font> methods will require one or both of these.</p>
<p>Next, the program will call the <em>onep_element_get_property()</em> method which, upon success, extracts so-called &#8220;static&#8221; properties of the element. These are unchanging attributes of the <font color="red">network element</font> such as processor, product <font color="red">ID</font>, serial number, and the one we&#8217;re interested in, system description. Note here that we use what ends up being a close equivalent of the <em>TRY</em> <font color="red">macro</font> to check the return code and handle an error. This is because the <em>TRY</em> <font color="red">macro</font> is meant to be called from within a <font color="red">function</font> returning a pointer, not from <em>main()</em> which returns an integer. Were this a larger program, we would probably make the <em>TRY</em> <font color="red">macro</font> more general and handle all cases.</p>
<p>The next <font color="red">onePK</font> method extracts the system description and after checking for an error, prints it to the screen. Important to note about the <em>onep_element_property_get*</em> family of methods is that they allocate memory to hold the resultant strings. You need to free this to avoid memory leaks. Finally, we release the memory held by the element property variable.</p>
<div style="width: 600px; background-color: #ededed; overflow-x: scroll;">
<pre>    <font color="red">printf</font>(<span style="color: #dc143c;">"Connecting to %s...\n"</span>, ne_addr);

    <font color="red">onepk</font> = simple_connect(ne_addr, username, <font color="red">password</font>, APPNAME, &amp;ne, &amp;n, <font color="red">errbuf</font>);

    <span style="color: #009900;">if</span> (<font color="red">onepk</font> == NULL)

    {

        <font color="red">fprintf</font>(<font color="red">stderr</font>, <span style="color: #dc143c;">"Can't connect to <font color="red">network element</font>: %s\n"</span>, <font color="red">errbuf</font>);

        <span style="color: #009900;">return</span> -<span style="color: #deb887;">1</span>;

    }



    <font color="red">printf</font>(<span style="color: #dc143c;">"Connected! Hello <font color="red">router</font>!\n"</span>);

    <font color="red">r</font> = onep_element_get_p<font color="red">r</font>operty(ne, &amp;property);

    <span style="color: #009900;">if</span> (r != ONEP_OK)

    {

        <font color="red">fprintf</font>(<font color="red">stderr</font>, <span style="colo<font color="red">r</font>: #dc143c;">"onep_element_get_p<font color="red">r</font>ope<font color="red">r</font>ty(): %s\n"</span>,  onep_strerror(r))

        <span style="color: #009900;">goto</span> done;

    }

    <span style="color: #009900;">if</span> (property)

    {

        r = onep_element_property_get_sys_descr(property, &amp;sysdescr);

        <span style="color: #009900;">if</span> (r != ONEP_OK)

        {

            <font color="red">fprintf</font>(<font color="red">stderr</font>, <span style="colo<font color="red">r</font>: #dc143c;">"onep_element_property_get_sys_descr(): %s\n"</span>, onep_strerror(r))

            <span style="color: #009900;">goto</span> done;

        }

        <font color="red">printf</font>(<span style="color: #dc143c;">"System Description: %s\n"</span>, sysdescr);

        <span style="color: #009900;">if</span> (sysdescr)

        {

            free(sysdescr);

        }

        onep_element_property_destroy(&amp;property);

    }



<span style="color: #009900;">done</span>:

    <font color="red">printf</font>(<span style="color: #dc143c;">"Disconnecting from %s...\n"</span>, ne_addr);

    simple_disconnect(&amp;ne, &amp;<font color="red">onepk</font>);



    <span style="color: #009900;">return</span> <span style="color: #deb887;">1</span>;

}</pre>
</div>
<h3>What use are you?</h3>
<p>No C program would be complete with a <font color="red">function</font> to print a helpful usage blurb!</p>
<div style="width: 600px; background-color: #ededed; overflow-x: scroll;">
<pre><span style="color: #ff8c00;">void</span>

usage(<span style="color: #ff8c00;">char</span> *name)

{

    <font color="red">printf</font>(<span style="color: #dc143c;">"\nonePK Hello World (ophw)\n"</span>);

    <font color="red">printf</font>(<span style="color: #dc143c;">"(c) <font color="red">Cisco</font> Systems 2013, Inc\n"</span>);

    <font color="red">printf</font>(<span style="color: #dc143c;">"Mike Schiffman &lt;mschiffm@cisco.com&gt;\n\n"</span>);

    <font color="red">printf</font>(<span style="color: #dc143c;">"\nUsage: ophw [-aup]\n"</span>);

    <font color="red">printf</font>(<span style="color: #dc143c;">" -a network_element_IP -u username -p <font color="red">password</font>\n"</span>);

}</pre>
</div>
<h3>Inside the Machine</h3>
<p>Now we arrive at the connection <font color="red">function</font>. This is where some serious <font color="red">onePK</font> gears churn. The following things happen:</p>
<ol>
<li><strong>onep_application_get_instance()</strong>: The first method called arranges some memory for a single <font color="red">onePK application</font> instance.</li>
<li><strong>onep_<font color="red">application</font>_set_name()</strong>: Next, the name of the application is set (originally sourced from the <font color="red">macro</font> at the top).</li>
<li><strong>onep_application_get_network_element()</strong>: The next method instantiates a <font color="red">network element</font> that will be addressed by the user-supplied <font color="red">IP</font> address. <font color="red">Onepk</font> expects the address in <a href="http://www.beej.us/guide/bgnet/output/html/multipage/sockaddr_inman.html">sockaddr</a> structure, and we oblige. The <font color="red">new network</font> element starts in the DISCONNECTED state, a situation we aim to change shortly.</li>
<li><strong>onep_element_connect()</strong>: This method reaches out and connects to the <font color="red">network element</font> to be authenticated with the user-supplied username and <font color="red">password</font> credentials. Successful connection and <font color="red">authentication</font> to the <font color="red">network element</font> returns a <font color="red">session</font> handle which is used to refer to this particular <font color="red">onePK</font> <font color="red">session</font>. If something breaks the method will return NULL and the return code will contain an error specific code.</li>
</ol>
<p>The username and <font color="red">password</font> need to be pre-configured in the <font color="red">network element</font> and be authenticated using the <font color="red">network element</font> configured <font color="red">authentication</font> mechanism. The specifics of which will depend on the site configuration policy and can be local router-based credentials or via <a href="http://en.wikipedia.org/wiki/RADIUS">RADIUS</a>, or <a href="http://en.wikipedia.org/wiki/TACACS%2B">TACACS+</a>.</p>
<p>While not used here, the method accepts an optional configuration datatype. This parameter allows the <font color="red">application</font> to change defaults like the transport mode (socket or TLS), reconnect timer (used on the <font color="red">network element</font> side to keep the <font color="red">session</font> state information intact if the <font color="red">application</font> becomes unreachable), and <font color="red">session</font> rate limiting.</p>
<p>Upon success, the <font color="red">network element</font> moves into the CONNECTED state and a valid <font color="red">onePK</font> <font color="red">session</font> handle is returned.</p>
<div style="width: 600px; background-color: #ededed; overflow-x: scroll;">
<pre>session_handle_t *

simple_connect(<span style="color: #ff8c00;">char</span> *ne_addr, <span style="color: #ff8c00;">char</span> *username, <span style="color: #ff8c00;">char</span> *<font color="red">password</font>, <span style="color: #ff8c00;">char</span> *appname, 

network_element_t **ne, network_application_t **n, <span style="color: #ff8c00;">char</span> *<font color="red">errbuf</font>)

{

    onep_status_t <font color="red">r</font>;

    session_handle_t *<font color="red">onepk</font>;

    <span style="colo<font color="red">r</font>: #ff8c00;">struct</span> sockaddr_in addr_v4;



    <span style="color: #0000ff;">/* get a singleton instance of network_application_t */</span>

    TRY(r, onep_application_get_instance(n), <font color="red">errbuf</font>, <span style="color: #dc143c;">"app_get_instance()"</span>);

    <span style="color: #0000ff;">/* set the <font color="red">application</font> name */</span>

    TRY(<font color="red">r</font>, onep_application_set_name(*n, appname), <font color="red">errbuf</font>, <span style="color: #dc143c;">"set_app_name()"</span>);



    <span style="color: #0000ff;">/* prepare a sockaddr_in struct using the supplied v4 <font color="red">IP</font> add<font color="red">r</font>ess */</span>

    memset(&amp;addr_v4, <span style="color: #deb887;">0</span>, <span style="color: #009900;">sizeof</span> (<span style="color: #ff8c00;">struct</span> sockaddr_in));

    addr_v4.sin_family = AF_INET;

    inet_pton(AF_INET, ne_addr, &amp;(addr_v4.sin_addr));

    <span style="color: #0000ff;">/*

     * Instantiate a network_element_t which will be addressed by the supplied element address represented in sockaddr format.

     */</span>

    TRY(r, onep_application_get_network_element(*n, (<span style="color: #ff8c00;">struct</span> sockaddr *)&amp;addr_v4, ne), <font color="red">errbuf</font>, <span style="color: #dc143c;">"get_network_element()"</span>);

    <span style="color: #0000ff;">/*

     * Connect to the <font color="red">network element</font>, use supplied username and <font color="red">password</font> to be authenticated. The <font color="red">network element</font> 

     * should have been previously configured to support <font color="red">onePK</font> and the username <font color="red">password</font> should also have been summa<font color="red">r</font>ily configured.

     */</span>

    TRY(r, onep_element_connect(*ne, username, <font color="red">password</font>, NULL, &amp;<font color="red">onepk</font>), <font color="red">errbuf</font>, <span style="color: #dc143c;">"connect_to_element()"</span>);



    return <span style="color: #009900;"><font color="red">onepk</font></span>;

}</pre>
</div>
<h3><a href="https://www.youtube.com/watch?v=8vxEimC3HME">Shut This Off</a></h3>
<p>The following <font color="red">function</font> shuts <font color="red">onePK</font> down in an orderly fashion. The order of events is as follows:</p>
<ol>
<li><strong>onep_element_disconnect()</strong>: This method simply disconnects the <font color="red">application</font> from the <font color="red">network element</font>. This will cause any <font color="red">session</font> state on the <font color="red">network element</font> side to be released.</li>
<li><strong>onep_element_destroy()</strong>: This guy releases the <font color="red">network element</font> state held by the <font color="red">application</font>.</li>
<li><strong>onep_<font color="red">session</font>_handle_destroy()</strong>: This handsome devil does away with the session handle state quite nicely.</li>
<li><strong>onep_<font color="red">application</font>_destroy()</strong>: This no nonsense chap shuts down the application and demolishes all associated state. Important to know that if this fella is called and the <font color="red">network element</font> is still in the CONNECTED state, it will be first be disconnected and all <font color="red">network element</font> resources will be freed.</li>
</ol>
<div style="width: 600px; background-color: #ededed; overflow-x: scroll;">
<pre><span style="color: #ff8c00;">void</span>

simple_disconnect(network_element_t **ne, session_handle_t **<font color="red">onepk</font>, netwo<font color="red">r</font>k_application_t **n)

{

    onep_status_t r;



    <span style="color: #009900;">if</span> ((ne) &amp;&amp; (*ne))

    {

        <span style="color: #0000ff;">/* disconnect from the <font color="red">network element</font> */</span>

        <font color="red">r</font> = onep_element_disconnect(*ne); 

        <span style="colo<font color="red">r</font>: #009900;">if</span> (r != ONEP_OK)

        {

            <font color="red">fprintf</font>(<font color="red">stderr</font>, <span style="colo<font color="red">r</font>: #dc143c;">"onep_element_disconnect(): %s\n"</span>, onep_strerror(r));

        }

        <span style="color: #0000ff;">/* Free the <font color="red">network element</font> <font color="red">r</font>esou<font color="red">r</font>ce on presentation. */</span>

        r = onep_element_destroy(ne);

        <span style="color: #009900;">if</span> (r != ONEP_OK)

        {

            <font color="red">fprintf</font>(<font color="red">stderr</font>, <span style="colo<font color="red">r</font>: #dc143c;">"onep_element_destroy(): %s\n"</span>, onep_strerror(r));

        }    

    }   

    <span style="color: #0000ff;">/* free the <font color="red">session</font> handle */</span>

    <span style="color: #009900;">if</span> (<font color="red">onepk</font>)

    { 

        <font color="red">r</font> = onep_session_handle_destroy(<font color="red">onepk</font>);

        <span style="colo<font color="red">r</font>: #009900;">if</span> (r != ONEP_OK)

        {

            <font color="red">fprintf</font>(<font color="red">stderr</font>, <span style="colo<font color="red">r</font>: #dc143c;">"onep_session_handle_dest<font color="red">r</font>oy(): %s\n"</span>, onep_st<font color="red">r</font>error(r));

        }    

    }

    <span style="color: #0000ff;">/* destroys the network_application_t and frees its memory resource. */</span>

    r = onep_application_destroy(n);

    <span style="color: #009900;">if</span> (r != ONEP_OK)

    {

        <font color="red">fprintf</font>(<font color="red">stderr</font>, <span style="colo<font color="red">r</font>: #dc143c;">"onep_application_destroy(): %s\n"</span>, onep_strerror(r));

    }

}</pre>
</div>
<h2>Net/Net</h2>
<p>While this might seem like a lot of code, it&#8217;s really only doing three simple things so let&#8217;s not lose focus of what we&#8217;re doing here:</p>
<p><a href="http://csio.cisco.com/blog/wp-content/uploads/2013/09/onepk-01.jpg"><img class="aligncenter size-full wp-image-15196" title="onepk-01" alt="" src="http://csio.cisco.com/blog/wp-content/uploads/2013/09/onepk-01.jpg" width="537" height="242" /></a></p>
<p>The rest of the code is standard C scaffolding and good programming practice. While not covered in this <font color="red">blog series</font>, <font color="red">onePK</font> also boasts Java and <font color="red">Python</font> <font color="red">APIs</font>. Using a higher-level language like <font color="red">Python</font>, because of its <a href="http://foobarnbaz.com/2012/07/08/understanding-python-variables/">automatic garbage collection, high-level data types and lack of variable declarations</a>, you can accomplish much of what the C code does in far fewer lines of code. A sample <font color="red">Python</font> snippet might look like the following:</p>
<h3>If <font color="red">Python</font> is your Poison</h3>
<div style="width: 600px; background-color: #ededed; overflow-x: scroll;">
<pre><span style="color: #0000ff;">from</span> onep.element.NetworkElement <span style="color: #0000ff;">import</span> NetworkElement

ne = NetworkElement(<span style="color: #dc143c;">"10.10.10.130"</span>,<span style="color: #dc143c;">"ophw"</span>)

ne.connect(<span style="color: #dc143c;">"<font color="red">cisco</font>"</span>, <span style="color: #dc143c;">"<font color="red">cisco</font>"</span>)

<span style="color: #009900;">print</span> ne.properties.sys_descr

ne.disconnect()</pre>
</div>
<h3><font color="red">API</font> Evolution</h3>
<p>Things are moving fast in the world of <font color="red">onePK</font>. In the last blog, 0.6.0 was the most recent version of the C <font color="red">API</font>. For this blog article, version 0.7.0 was used. However, by the time <font color="red">onePK</font> goes GA (version 1.0) some assembly could be required if the <font color="red">APIs</font> change slightly. This could happen by late 2013 or early 2014.</p>
<h2>In Closing</h2>
<p>To recap, you learned how to use the <font color="red">onePK</font> C <font color="red">API</font> to write a standalone program that connects to a <font color="red">network element</font>, prints its description, and then disconnects. This is important functionality that you&#8217;ll need for future onePK-enabled <font color="red">applications</font>. In the next and final installment of this <font color="red">blog series</font>, we&#8217;ll explore and break down a more useful <font color="red">onePK</font> tool.</p>
<p>Finally, I&#8217;d also like to thank <a href="https://www.ciscolive2013.com/connect/speakerDetail.ww?PERSON_ID=A6FC957620DE074838EADC09A7263EBF">Shelly Cadora</a> for all of her hard work on <font color="red">onePK</font>, helpful reviews of my blogs, and writing the above <font color="red">Python script</font>.</p>
Tags:<br /><ul class = "tagged"><li><a class = "post_tags" href="https://blogs.cisco.com/?tag=cisco">Cisco</a></li><li><a class = "post_tags" href="https://blogs.cisco.com/?tag=cisco-ios">cisco ios</a></li><li><a class = "post_tags" href="https://blogs.cisco.com/?tag=cisco-security">Cisco Security</a></li><li><a class = "post_tags" href="https://blogs.cisco.com/?tag=cisco-sio">cisco sio</a></li><li><a class = "post_tags" href="https://blogs.cisco.com/?tag=ios">IOS</a></li><li><a class = "post_tags" href="https://blogs.cisco.com/?tag=ncsam-2013">ncsam-2013</a></li><li><a class = "post_tags" href="https://blogs.cisco.com/?tag=network-security">network security</a></li><li><a class = "post_tags" href="https://blogs.cisco.com/?tag=one-platform-kit">One Platform Kit</a></li><li><a class = "post_tags" href="https://blogs.cisco.com/?tag=onepk">onePK</a></li><li><a class = "post_tags" href="https://blogs.cisco.com/?tag=open-source">open source</a></li><li><a class = "post_tags" href="https://blogs.cisco.com/?tag=secure-software">secure software</a></li><li><a class = "post_tags" href="https://blogs.cisco.com/?tag=security-2">security</a></li></ul>		</div>
			<div id = "comments">
				<div id = "respond">
				<p class = "cisco_respond">In an effort to keep conversations fresh, Cisco Blogs closes comments after 60 days. Please visit the <a href ="https://blogs.cisco.com">Cisco Blogs hub page</a> for the latest content.</p>
			<p><span class = "comment_heading">3 Comments</span></p>
		<ol class="commentlist" id="thecomments">
				
			<li>
			<div id="comment-1065805">
				<div class="comment_image">
					<img class = "img-circle img-noname" src = 'https://alln-extcloud-storage.cisco.com/ciscoblogs/nitro_users/empty.jpg'  width = "56" height = "56">
				</div>
				<div class="comment_act">
					<div class="comment_user_info">
						<span class="fn">
						mark h						</span>
						<br />
						<span class="comment-meta commentmetadata">November 17, 2013 at 4:48 pm</span>

					</div>
				<div class="comment_text">
				<p>It is with the deepest humility that I submit that,

"No C program would be complete with a function to print a helpful usage blurb!"



... should be,

"No C program would be complete without a function to print a helpful usage blurb!"</p>				</div>
				<div class = "roblike">
					<a  href = "#" id = "clickLike1065805" class = "commentLikeButton commentlike" data-nitro = >0 likes</a>				</div>
				<div class="reply">
									</div>

				<div class="clear"></div>
			</div>
			<div class="clear"></div>
		</div>
		</li>
		</li><!-- #comment-## -->

			<li>
			<div id="comment-1065307">
				<div class="comment_image">
					<img class = "img-circle img-noname" src = 'https://alln-extcloud-storage.cisco.com/ciscoblogs/nitro_users/empty.jpg'  width = "56" height = "56">
				</div>
				<div class="comment_act">
					<div class="comment_user_info">
						<span class="fn">
						Mark Heuz						</span>
						<br />
						<span class="comment-meta commentmetadata">November 17, 2013 at 2:55 pm</span>

					</div>
				<div class="comment_text">
				<p>I don't know ANYTHING about programming but shouldn't,

 strncpy(password, optarg, ONEP_USERNAME_SIZE - 1);

... be,

 strncpy(password, optarg, ONEP_PASSWORD_SIZE - 1);

???</p>				</div>
				<div class = "roblike">
					<a  href = "#" id = "clickLike1065307" class = "commentLikeButton commentlike" data-nitro = >0 likes</a>				</div>
				<div class="reply">
									</div>

				<div class="clear"></div>
			</div>
			<div class="clear"></div>
		</div>
		</li>
		</li><!-- #comment-## -->

			<li>
			<div id="comment-921762">
				<div class="comment_image">
					<img class = "img-circle img-noname" src = 'https://alln-extcloud-storage.cisco.com/ciscoblogs/nitro_users/empty.jpg'  width = "56" height = "56">
				</div>
				<div class="comment_act">
					<div class="comment_user_info">
						<span class="fn">
						Jonathan Fornaci						</span>
						<br />
						<span class="comment-meta commentmetadata">October 16, 2013 at 11:53 am</span>

					</div>
				<div class="comment_text">
				<p>Very impressive and well written,  definitely useful information.</p>				</div>
				<div class = "roblike">
					<a  href = "#" id = "clickLike921762" class = "commentLikeButton commentlike" data-nitro = >0 likes</a>				</div>
				<div class="reply">
									</div>

				<div class="clear"></div>
			</div>
			<div class="clear"></div>
		</div>
		</li>
		</li><!-- #comment-## -->
			</ol>
	</div>

			</div>
		</article>

	</div>
	<div id = "main_right">
		<ul id = "sidebar">

  <li id="subscribe" class="widget">
    <h3>Subscribe to Security:</h3>
    <div id="subscribe_box">
      <form id ="subscribe_form" action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open('https://feedburner.google.com/fb/a/mailverify?uri=CiscoBlogSecurity', 'popupwindow', 'scrollbars=yes,width=550,height=520');return true">
        <input type="text" class="subscribe" name="email" value="Enter email address" onFocus="if(this.value == 'Enter email address') {this.value = '';}" onBlur="if (this.value == '') {this.value = 'Enter email address';}"></input>
        <input type="hidden" value="CiscoBlogSecurity" name="uri" ></input>
        <input type="hidden" name="loc" value="en_US"></input>
        <input type="submit" class="subscribe_button" value="Subscribe" ></input>
        <div class="clear"></div>
      </form>
    </div>
    <div class="clear"></div>

</li>

<li id="social_widget" class="widget">
  <h3>Connect with Security</h3>
  <ul>
        <li><a target='_blank' href="https://www.facebook.com/ciscosecurity?ref=nf"><img src="https://blogs.cisco.com/wp-content/themes/cisco_responsive/img/follow_fb.png" alt="Facebook"></a></li>
    <li><a target='_blank' href="https://twitter.com/ciscosecurity"><img src="https://blogs.cisco.com/wp-content/themes/cisco_responsive/img/follow_tw.png" alt="Twitter"></a></li>
    <li><a target='_blank' href="http://www.linkedin.com/company/cisco"><img src="https://blogs.cisco.com/wp-content/themes/cisco_responsive/img/follow_li.png" alt="Linkedin"></a></li>
    <li><a target='_blank' href="https://plus.google.com/106092229730683979920"><img src="https://blogs.cisco.com/wp-content/themes/cisco_responsive/img/follow_gp.png" alt="Google+"></a></li>
    <li><a target='_blank' href="https://www.slideshare.net/ciscosystems"><img src="https://blogs.cisco.com/wp-content/themes/cisco_responsive/img/follow_ss.png" alt="Slideshare"></a></li>
    <li><a target='_blank' href="http://youtubecisco.com/security"><img src="https://blogs.cisco.com/wp-content/themes/cisco_responsive/img/follow_yt.png" alt="YouTube"></a></li>
    <li><a target='_blank' href="https://www.instagram.com/cisco/?hl=en"><img src="https://blogs.cisco.com/wp-content/themes/cisco_responsive/img/follow_ig.png" alt="Instagram"></a></li>
    <li><a href="https://feeds.feedburner.com/CiscoBlogSecurity"><img src="https://blogs.cisco.com/wp-content/themes/cisco_responsive/img/rss.png" width = "24" height = "24" alt = "Rss"></a></li>
      </ul>
</li>
	<li>
		<div id = "nitroLoggedOut" class="widget">
			<div class = "consoleTitle">
				Cisco Social Rewards
			</div>
			<div class = "consoleTextNoLog">
				Get credit for all your Cisco site participation with Social Rewards. <a href = "https://blogs.cisco.com/rewards-about">Learn More</a>			</div>
						<a href = "https://socialrewards-prod.cloudapps.cisco.com/" class = "joinNow">Join Today</a>
			<div class = "consoleTextNoLog">
				Already a member?  <a href = "https://socialrewards-prod.cloudapps.cisco.com/" class = "already">Log In</a>
			</div>
			</div>
</li> 	<script>


	nitro.callAPI("method=site.getActionFeed&apiKey=6912c6c82ccc4863a0311dc8b586b8fb&showLevelChanges=true&preferences=userFullName|profileUrl|userPhotoUrl", "newsfeed");
	</script>
	<li>
		 <div id ="newsfeedWidget">
			<div class = "newsfeed_header">
				Latest Rewards
				<a href = "https://blogs.cisco.com/rewards-about" class = "newsIcon"><img src = "/wp-content/plugins/bunchball/images/infoIcon.png"></a>
			</div>
			<div id = "newsInnerContent">
				<ul id = "newsfeed">
				</ul>
			</div>
		</div>
	</li>
    <li id="blogroll">
            <ul id="blogroll_links">
          <li class="roll_heading">What We're Reading</li>

            <li><a href="http://www.cert.org/blogs/vuls/" target="_blank">CERT Vulnerability Analysis</a></li>
                      <li><a href="http://blogs.technet.com/b/srd/" target="_blank">Microsoft Security Research & Defense</a></li>
                      <li><a href="http://isc.sans.edu/index.html" target="_blank">SANS Internet Storm Center</a></li>
                      <li><a href="http://www.schneier.com/" target="_blank">Schneier on Security</a></li>
                  </ul>
              <ul id="related_links">
          <li class="roll_heading">Related Links</li>
                    <li><a href="http://www.cisco.com/en/US/products/products_security_advisories_listing.html" target="_blank">Advisories and Responses</a></li>
                        <li><a href="http://tools.cisco.com/security/center/cyberRiskReport.x" target="_blank">Cyber Risk Reports</a></li>
                        <li><a href="http://tools.cisco.com/security/center/intelliPapers.x?i=55" target="_blank">Security Best Practices</a></li>
                        <li><a href="http://tools.cisco.com/security/center/home.x" target="_blank">Security Intelligence Operations</a></li>
                        <li><a href="http://www.cisco.com/en/US/products/hw/vpndevc/index.html" target="_blank">Security Products</a></li>
                  </ul>
          </li>
  </ul>	</div>
	<div class = "clear"></div>
</div>
</div>
</div>
   

<div class="sb-slidebar sb-left sb-width-custom sb-momentum-scrolling " data-sb-width="50%">
    <nav>
  <a class = "hamburger_login" href = "https://blogs.cisco.com:9031/sp/startSSO.ping?PartnerIdpId=cloudsso.cisco.com">Log In to Cisco.com</a>      <ul>
                  <li><a href='https://blogs.cisco.com'><span>All Blogs</span></a></li>
                  <li><a href='#'><span>Technologies</span></a>
                  <ul>
            <div class = "bordertop"></div>
            <li><a href="https://blogs.cisco.com/analytics-automation">Analytics &amp; Automation</a></li>
            <li><a href="https://blogs.cisco.com/cloud">Cloud</a></li>
            <li><a href='https://blogs.cisco.com/collaboration'>Collaboration</a></li>
            <li><a href='https://blogs.cisco.com/datacenter'>Data Center</a></li>
            <li><a href='https://blogs.cisco.com/digital'>Digital Transformation</a></li>
            <li><a href='https://blogs.cisco.com/enterprise'>Enterprise Networks</a></li>
            <li><a href='https://blogs.cisco.com/innovation'>Innovation</a></li>
            <li><a href='https://blogs.cisco.com/wireless'>Mobility</a></li>
            <li><a href='https://blogs.cisco.com/security'>Security</a></li>
            <li class = "sub"><a href="https://blogs.cisco.com/talos" class="nav_menu" title="">Threat Research</a></li>
            <li><a href='https://blogs.cisco.com/smallbusiness'>Small Business</a></li>
            <li><a href='https://blogs.cisco.com/services'>Services</a></li>
            <li><a href='https://blogs.cisco.com/sp'>SP360:Service Provider</a></li>
          </ul>
        </li>
                  <li><a href='#'><span>Industries</span></a>
                      <ul>
            <div class = "bordertop"></div>
            <li><a href='https://blogs.cisco.com/education'>Education</a></li>
            <li><a href='https://blogs.cisco.com/energy'>Energy</a></li>
            <li><a href='https://blogs.cisco.com/financialservices'>Financial Services</a></li>
            <li><a href='https://blogs.cisco.com/government'>Government</a></li>
            <li><a href='https://blogs.cisco.com/healthcare'>Healthcare</a></li>
            <li><a href='https://blogs.cisco.com/manufacturing'>Manufacturing</a></li>
            <li><a href='https://blogs.cisco.com/retail'>Retail &amp; Hospitality</a></li>
          </ul>
        </li>
                  <li><a href='#'><span>Partners</span></a> 
          <ul>
            <div class = "bordertop"></div>
            <li><a href='https://blogs.cisco.com/partner'>Partner</a></li>
          </ul>
        </li>
        <li><a href='#'><span>For the Tech Expert</span></a>           <ul>
            <div class = "bordertop"></div>
            <li><a href='https://blogs.cisco.com/getyourbuildon'>Architects &amp; Distinguished Engineers</a></li>
            <li><a href='https://blogs.cisco.com/developer'>Developer</a></li>
            <li><a href='https://blogs.cisco.com/performance'>High Performance Computing</a></li>
            <li><a href='https://blogs.cisco.com/ciscoit'>Inside Cisco IT</a></li>
            <li><a href='https://blogs.cisco.com/cin'>TechWiseTV</a></li>
          </ul>
        </li>
         <li><a href='#'><span>Get to Know Cisco</span></a>           <ul>
            <div class = "bordertop"></div>
            <li><a href='https://blogs.cisco.com/csr'>Corporate Social Responsibility</a></li>
            <li><a href='https://blogs.cisco.com/cle'>Connected Life Exchange</a></li>
            <li><a href='https://blogs.cisco.com/customerstories'>Customer Stories</a></li>
            <li><a href='https://blogs.cisco.com/socialmedia'>Digital and Social Media</a></li>
            <li><a href='https://blogs.cisco.com/gov'>High Tech Policy</a></li>
            <li><a href='https://blogs.cisco.com/diversity'>Inclusion and Diversity</a></li>
            <li><a href='https://blogs.cisco.com/lifeatcisco'>Life at Cisco</a></li>
            <li><a href='https://blogs.cisco.com/perspectives'>Perspectives</a></li>
            <li><a href='https://blogs.cisco.com/news'>Executive Platform: News &amp; Insights</a></li>
          </ul>
        </li>
        <li class = "countries"><a href='#'><span>Countries and Regions</span></a>
          <ul>
            <div class = "col_1">
  <li><a href="https://apjc.thecisconetwork.com/">Asia Pacific</a>
  <li><a href="https://gblogs.cisco.com/at/">Austria</a>
  <li><span class = "sub_main">Belgium</span></li>
    <li class = "sub"><a href="https://gblogs.cisco.com/be">Dutch</a></li>
    <li class = "sub"><a href="https://gblogs.cisco.com/be-fr">French</a></li>
  <li><a href="https://gblogs.cisco.com/br/">Brazil</a>
  <li><span class = "sub_main">Canada</span></li>
    <li class = "sub"><a href="https://canadablog.cisco.com/">English</a></li>
    <li class = "sub"><a href="https://ciscocanadafr.wordpress.com/">French</a></li>

  </div>
    <div class = "col_2">
    <li><a href="https://gblogs.cisco.com/fin/">Finland</a>
    <li><a href="https://gblogs.cisco.com/fr/">France</a>

  <li><a href="https://gblogs.cisco.com/de">Germany</a></li>
  <li><a href="https://gblogs.cisco.com/gr/">Greece</a>
  <li><a href="https://gblogs.cisco.com/in">India</a></li>
  <li><a href="https://gblogs.cisco.com/it/">Italy</a></li>
  <li><a href="https://gblogs.cisco.com/jp/">Japan</a></li>
  <li><a href="https://ciscokrblog.com/">Korea</a></li>

  </div>
  <div class = "col_3">
  <li><span class = "sub_main">Latin America</span></li>
      <li class = "sub"><a href="https://gblogs.cisco.com/la/">Latin America (Esp)</a></li>
      <li class = "sub"><a href="https://gblogs.cisco.com/cansac/">Cansac</a></li>
  <li><a href="https://gblogs.cisco.com/nl/">Netherlands</a></li>
  <li><a href="https://gblogs.cisco.com/no">Norway</a></li>
  <li><a href="https://gblogs.cisco.com/pl">Poland</a></li>
  <li><a href="https://gblogs.cisco.com/pt">Portugal</a></li>
  <li><a href="https://gblogs.cisco.com/ro">Romania</a></li>
  </div>

  <div class = "col_4">
  <li><a href="https://gblogs.cisco.com/ru">Russia</a></li>
  <li><a href="https://gblogs.cisco.com/es">Spain</a></li>
  <li><span class = "sub_main">Switzerland</span></li>
      <li class = "sub"><a href="https://gblogs.cisco.com/ch-tech/">English</a></li>
      <li class = "sub"><a href="https://gblogs.cisco.com/ch-fr/">French</a></li>
      <li class = "sub"><a href="https://gblogs.cisco.com/ch-de/">German</a></li>
  <li><a href="https://gblogs.cisco.com/tr/">Turkey</a></li>
  <li><a href="https://gblogs.cisco.com/uki/">UK &amp; Ireland</a></li>
</div>
<div class = "clear"></div>
</ul>
</li>
      </ul>
</nav>
</div>
<footer class = "sb-slide">
	<section id = "footer_content">
				<ul id = "footer_social">
			<li class = "footer_social_title">Connect</li>

			<li><a target='_blank' href='https://www.facebook.com/ciscosecurity?ref=nf'><img src = "https://blogs.cisco.com/wp-content/themes/cisco_responsive/img/footer_fb.png" height = "25" width = "25"></a></li>
			<li><a target='_blank' href='https://twitter.com/ciscosecurity'><img src = "https://blogs.cisco.com/wp-content/themes/cisco_responsive/img/footer_tw.png"></a></li>
			<li><a target='_blank' href='http://www.linkedin.com/company/cisco'><img src = "https://blogs.cisco.com/wp-content/themes/cisco_responsive/img/footer_li.png"></a></li>
			<li><a target='_blank' href='https://plus.google.com/106092229730683979920'><img src = "https://blogs.cisco.com/wp-content/themes/cisco_responsive/img/footer_gp.png"></a></li>
			<div class = "clear"></div>

		</ul>


		<section id="footer_new">
			<ul>
				<li><a href="https://www.cisco.com/web/siteassets/contacts/index.html">Contacts</a>  |  </li>
				<li><a href="https://secure.opinionlab.com/ccc01/o.asp?id=jBjOhqOJ">Feedback</a>  |  </li>
				<li><a href="https://www.cisco.com/web/help/index.html">Help</a>  |  </li>
				<li><a href="https://www.cisco.com/web/siteassets/sitemap/index.html">Site Map</a>  |  </li>
				<li><a href="https://www.cisco.com/web/siteassets/legal/terms_condition.html">Terms &amp; Conditions</a>  |  </li>
				<li><a href="https://www.cisco.com/web/siteassets/legal/privacy.html">Privacy Statement</a>  |  </li>
				<li><a href="https://www.cisco.com/web/siteassets/legal/privacy.html#cookies">Cookie Policy</a>  |  </li>
    	 		<li><a href="https://www.cisco.com/web/siteassets/legal/trademark.html">Trademarks</a> <br /> </li>
    	 	</ul>
		</section>
		<br class="clear" />
    	<section id ="disclaimer">
    		<b>Legal Disclaimer</b>
			<p>Some of the individuals posting to this site, including the moderators, work for Cisco Systems. Opinions expressed here and in any corresponding comments are the personal opinions of the original authors, not of Cisco. The content is provided for informational purposes only and is not meant to be an endorsement or representation by Cisco or any other party. This site is available to the public. No information you consider confidential should be posted to this site. By posting you agree to be solely responsible for the content of all information you contribute, link to, or otherwise upload to the Website and release Cisco from any liability related to your use of the Website. You also grant to Cisco a worldwide, perpetual, irrevocable, royalty-free and fully-paid, transferable (including rights to sublicense) right to exercise all copyright, publicity, and moral rights with respect to any original content you provide. The comments are moderated. Comments will appear as soon as they are approved by the moderator.</p>
    	</section>
	</section>
	<script>
var ajaxurl = "https://blogs.cisco.com/wp-admin/admin-ajax.php";
jQuery(document).ready(function($) {

	$('a.commentLikeButton').click(function(event){
		var elemId = event.target.id;
		var commentId = elemId.replace('clickLike','');

		event.preventDefault();

		var nitroID= $(this).attr("data-nitro");



		var str = $(this).text();
		if (str =='1 like') {
			var total = str.replace('like','');
		}
		else {
			var total = str.replace('likes','');
		}
		if ($(this).hasClass( "commentlike")) {
			var theTotal = parseInt(total);
   			theTotal1 = Number(theTotal) + 1;
   			if (theTotal1 === 1){
   				$(this).text(theTotal1+" like"); 
   			}
   			else {
    			$(this).text(theTotal1+" likes");
    		}
    		var data = {
        		'action': 'addLike',
				'commentID': commentId,
				'total': theTotal1
			};


			$.post(ajaxurl, data, function(response) {
				if (typeof nitroID !== 'undefined') {
					commentLike(nitroID);
				}
				commentLiked();
			});

    	}
    	else{
    		$(this).removeAttr("href");
    		alert('You already liked this');
    		/*var theTotal = parseInt(total);
   			theTotal = Number(theTotal) - 1;
   			if (theTotal == 1){
   				$(this).text(theTotal+" like");
   			}
   			else {
    			$(this).text(theTotal+" likes");
    		}
    		var data = {
        		'action': 'removeLike',
				'commentID': commentId,
				'total': theTotal
			};
			$.post(ajaxurl, data, function(response) {
				alert('disliked');
			});*/
    	}

    	$(this).addClass('commentliked').removeClass('commentlike');
	});
});





	</script>
	
	<script>
		var ajaxurl = "https://blogs.cisco.com/wp-admin/admin-ajax.php";
		
		jQuery(document).ready(function($) {
			var postID = 128794;
			var orig_count = 0;
			$(".twitter a").click(function() {

				var theTotal = orig_count;
   				var count = Number(theTotal) + 1;
				var data = {
        			'action': 'addtweet',
					'postID': postID,
					'total': count
				};
				$.post(ajaxurl, data, function(response){});
			})
		});
	</script>

<script type='text/javascript' src='https://blogs.cisco.com/wp-includes/js/comment-reply.min.js?ver=4.9.2'></script>
<script type='text/javascript' src='https://blogs.cisco.com/wp-includes/js/wp-embed.min.js?ver=4.9.2'></script>
</footer>
<script>//nitro.refreshNML();</script>




</body>
</html>

  <div id="share_bar1">

    <span class = "share_title">Share</span>
    <div class="twitter sharrre">
      <div class = "box">
        <div class = "count twitcount"></div>
        <a class = "twitclick" href="https://twitter.com/intent/tweet?url=http://bit.ly/1FaGcj5&text=Cisco&#8217;s onePK Part 2: Reaching out to a Network Element&via=ciscosecurity" data-config-metrics-group='social_shares' data-config-metrics-title='twitter_shares' data-config-metrics-item='twitter_share'>tweet</a>
      </div>
    </div>

    <div class="facebook sharrre">
      <div class = "box">
        <div class = "count fbcount"></div>
        <a class = "fbclick share" href = "http://www.facebook.com/sharer/sharer.php?u=https://blogs.cisco.com/security/ciscos-onepk-part-2-reaching-out-to-a-network-element&title=Cisco&#8217;s onePK Part 2: Reaching out to a Network Element" data-config-metrics-group='social_shares' data-config-metrics-title='facebook_shares' data-config-metrics-item='facebook_share' onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;"></a>
      </div>
    </div>


    <div class="linkedin sharrre">
      <div class = "box">
        <div class = "count licount"></div>
        <a class = "liclick share" href = "https://www.linkedin.com/cws/share?url=https://blogs.cisco.com/security/ciscos-onepk-part-2-reaching-out-to-a-network-element" data-title=" " data-config-metrics-group='social_shares' data-config-metrics-title='linkedin_shares' data-config-metrics-item='linkedin_share' onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;"></a>


      </div>
    </div>

    <div class="googleplus sharrre">
      <div class = "box">
        <div class = "count gpcount"></div>
        <a class = "gpclick share" href="https://plus.google.com/share?url=https://blogs.cisco.com/security/ciscos-onepk-part-2-reaching-out-to-a-network-element" data-title=" " data-config-metrics-group='social_shares' data-config-metrics-title='google_shares' data-config-metrics-item='google_share' onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;"></a>
      </div>
    </div>
        <div class = "share_mail"><a class="email emclick" href="mailto:?subject=Cisco Blog: Cisco&#8217;s onePK Part 2: Reaching out to a Network Element&body=I saw this post on Cisco Security blog and thought you might like to read it.%0A%0ACisco&#8217;s onePK Part 2: Reaching out to a Network Element%0A%0Ahttps://blogs.cisco.com/security/ciscos-onepk-part-2-reaching-out-to-a-network-element%0A%0A****Disclaimer****%0A%0ACisco is not responsible for the content of this email, and its contents do not necessarily reflect Cisco’s views or opinions. Cisco has not verified the email address or name of the sender." data-config-metrics-group='social_shares' data-config-metrics-title='email_shares' data-config-metrics-item='email_share'></a></div>
    <div class = "clear"></div>
  </div>
  